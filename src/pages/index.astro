---



import { getCollection } from "astro:content";
import About from "@/components/sections/root/About.astro";
import BlogContact from "@/components/sections/root/BlogContact.astro";
import Hero from "@/components/sections/root/Hero.astro";
import Works from "@/components/sections/root/Works.astro";
import Layout from "@/layouts/Layout.astro";

const allWorks = await getCollection("works");
const sortedWorks = allWorks
	.sort(
		(a, b) =>
			new Date(b.data.date).getTime() -
			new Date(a.data.date).getTime(),
	)
	.slice(0, 5);
const allArticles = await getCollection("articles");
const sortedArticles = allArticles
	.sort(
		(a, b) =>
			new Date(b.data.date).getTime() -
			new Date(a.data.date).getTime(),
	)
	.slice(0, 4);
---

<Layout>
	<Hero />
	<About />
	<Works works={sortedWorks} />
	<BlogContact articles={sortedArticles} />
</Layout>
